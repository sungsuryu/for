<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.knia.foreign.exchange.dao.mapper.LoginMapper">

	<resultMap id="mapUserVO" type="egovframework.knia.foreign.exchange.vo.UserVO">
		<result property="userId" column="USER_ID" />
		<result property="userName" column="USER_NAME" />
		<result property="password" column="PASSWORD" />
		<result property="cmpyCd" column="CMPY_CD" />
		<result property="emlAddr" column="EML_ADDR" />
		<result property="cellNum" column="CELL_NUM" />
	</resultMap>

<!-- 	<select id="selectUser" parameterType="loginVO" resultMap="mapUserVO"> -->
	
	<select id="selectUser" parameterType="loginVO" resultMap="mapUserVO">
			SELECT
				USER_ID, USER_NAME, PASSWORD, 
				CMPY_CD, EML_ADDR, CELL_NUM
			FROM
				TB_FOR_USER
			WHERE
				USER_ID=#{loginId} 
				AND PASSWORD=#{password}
				AND IS_DEL='N' 
				AND USE_YN='Y' 
				AND IS_APPROVE='Y'
	</select>
	
	<select id="countUser" parameterType="loginVO" resultType="int">
			SELECT
				COUNT(USER_ID) FROM TB_FOR_USER
			WHERE
				USER_ID=#{loginId} 
				AND PASSWORD=#{password}
				AND IS_DEL='N' 
				AND USE_YN='Y' 
				AND IS_APPROVE='Y'
	</select>

</mapper>